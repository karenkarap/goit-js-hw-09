{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.js-feedback-form'),\n};\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\n// Оновлюємо з лс\nconst fillFormFromLS = form => {\n  const dataFromFormLs = JSON.parse(\n    localStorage.getItem('feedback-form-state')\n  );\n\n  if (dataFromFormLs === null) {\n    return;\n  } else {\n    const dataFromFormLsKeys = Object.keys(dataFromFormLs);\n\n    dataFromFormLsKeys.forEach(key => {\n      form.elements[key].value = dataFromFormLs[key];\n      formData[key] = dataFromFormLs[key];\n    });\n  }\n};\n\nfillFormFromLS(refs.form);\n\n// Додаємо до лс\nconst onFormInput = event => {\n  const formField = event.target;\n  const formFieldValue = formField.value.trim();\n\n  formData[formField.name] = formFieldValue;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\nrefs.form.addEventListener('input', onFormInput);\n\n// Валідація форми\nconst onFormBtnSubmit = event => {\n  event.preventDefault();\n\n  const hasEmptyValues = Object.values(formData).some(value => value === '');\n  if (hasEmptyValues) {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log(formData);\n  localStorage.removeItem('feedback-form-state');\n  formData.email = '';\n  formData.message = '';\n  refs.form.reset();\n};\nrefs.form.addEventListener('submit', onFormBtnSubmit);\n"],"names":["refs","formData","fillFormFromLS","form","dataFromFormLs","key","onFormInput","event","formField","formFieldValue","onFormBtnSubmit","value"],"mappings":"wFAAA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,mBAAmB,CAClD,EAEA,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAGA,MAAMC,EAAiBC,GAAQ,CAC7B,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,qBAAqB,CAC9C,EAEMA,IAAmB,MAGM,OAAO,KAAKA,CAAc,EAElC,QAAQC,GAAO,CAChCF,EAAK,SAASE,CAAG,EAAE,MAAQD,EAAeC,CAAG,EAC7CJ,EAASI,CAAG,EAAID,EAAeC,CAAG,CACxC,CAAK,CAEL,EAEAH,EAAeF,EAAK,IAAI,EAGxB,MAAMM,EAAcC,GAAS,CAC3B,MAAMC,EAAYD,EAAM,OAClBE,EAAiBD,EAAU,MAAM,KAAI,EAE3CP,EAASO,EAAU,IAAI,EAAIC,EAE3B,aAAa,QAAQ,sBAAuB,KAAK,UAAUR,CAAQ,CAAC,CACtE,EAEAD,EAAK,KAAK,iBAAiB,QAASM,CAAW,EAG/C,MAAMI,EAAkBH,GAAS,CAI/B,GAHAA,EAAM,eAAc,EAEG,OAAO,OAAON,CAAQ,EAAE,KAAKU,GAASA,IAAU,EAAE,EACrD,CAClB,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAIV,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAC7CA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBD,EAAK,KAAK,OACZ,EACAA,EAAK,KAAK,iBAAiB,SAAUU,CAAe"}